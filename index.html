<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="style.css"/>
<title>发音工具</title>
<script type="text/javascript"> 
 
   function clears1(){	
	   var j;
	   var u =document.getElementById("screen1").value;
	   var counter1;
	   var temp1;
	   temp1=0;
	   counter1=0;
	   for(j=0;j<u.length;j++){
	 if(u[j]==1){
		  setTimeout(function(){document.getElementById("a").play()}, j*1000); 
	 } 
	 if(u[j]==2){
		  setTimeout(function(){document.getElementById("b").play()}, j*1000);
	 } 
	 if(u[j]==3){
          if(j+1>temp1){
		  temp1 = j;
		  counter1=0;
		  while(u[temp1]==3){
		   counter1++;
		   temp1++;
		  }
		  }
		  if(counter1%2==1){
		  setTimeout(function(){document.getElementById("c").play()}, j*1000);
		  counter1--;
		  }else{
		  setTimeout(function(){document.getElementById("b").play()}, j*1000);
		  		  counter1--;
		  }
	 } 

	  if(u[j]==4){
		  setTimeout(function(){document.getElementById("d").play()}, j*1000);
	  } 
	 }
	   document.getElementById("screen1").value="";  
   }
	
   function clears2(){
	   var i;
	   var v =document.getElementById("screen2").value;
	   var counter2;
	   var temp2;
	   temp2=0;
	   counter2=0;
	   for(i=0;i<v.length;i++){
	 if(v[i]==1){
		  setTimeout(function(){document.getElementById("e").play()}, i*1000); 
	 } 
	 if(v[i]==2){
		  setTimeout(function(){document.getElementById("f").play()}, i*1000);
	 } 
	 if(v[i]==3){
          if(i+1>temp2){
		  temp2 = i;
		  counter2=0;
		  while(v[temp2]==3){
		   counter2++;
		   temp2++;
		  }
		  }
		  if(counter2%2==1){
		  setTimeout(function(){document.getElementById("g").play()}, i*1000);
		  counter2--;
		  }else{
		  setTimeout(function(){document.getElementById("f").play()}, i*1000);
		  		  counter2--;
		  }
	 } 

	  if(v[i]==4){
		  setTimeout(function(){document.getElementById("h").play()}, i*1000);
	  } 
	 }
	   document.getElementById("screen2").value="";
   }
   
   function M1(){document.getElementById("a").play(); }
   function M2(){document.getElementById("b").play(); }
   function M3(){document.getElementById("c").play(); }
   function M4(){document.getElementById("d").play(); }
   function M5(){ }
	
   function F1(){document.getElementById("e").play(); }
   function F2(){document.getElementById("f").play(); }
   function F3(){document.getElementById("g").play(); }
   function F4(){document.getElementById("h").play(); }
   function F5(){ } 	
    
</script>
</head>
<body>
(M=Male, F=Female)<br/>
   <table1>
     <tr>
        <th><input type="button" value="M1" onclick="M1()" class="buttonM button"></th>
        <th><input type="button" value="M2" onclick="M2()" class="buttonM button"></th>
	    <th><input type="button" value="M3" onclick="M3()" class="buttonM button"></th>
        <th><input type="button" value="M4" onclick="M4()" class="buttonM button"></th>
	    <!-- <th><input type="button" value="M5" onclick="M5()"></th> -->
	</tr>
    <tr>
        <th><input type="button" value="F1" onclick="F1()" class="buttonF button"></th>
        <th><input type="button" value="F2" onclick="F2()" class="buttonF button"></th>
	    <th><input type="button" value="F3" onclick="F3()" class="buttonF button"></th>
        <th><input type="button" value="F4" onclick="F4()" class="buttonF button"></th>
	    <!-- <th><input type="button" value="F5" onclick="F5()"></th> -->
	</tr>
   </table1>	
    <table>
      	<tr>
           <th><input type="submit" value="男性发音" onclick="clears1()"  ></th>
	       <th><input id="screen1"></th>
        </tr>  
	    <tr>
           <th><input type="submit" value="女性发音" onclick="clears2()"></th>
	       <th><input id="screen2"></th>
        </tr>  
    </table> 

  <p>(The tool is still in beta)</p>
  	<audio controls="controls">
	      <source src="Family.mp3" autoplay>
    </audio>
<audio id=a src="M1.mp3" autostart="false">
	</audio>
<audio id=b src="M2.mp3" autostart="false">
	</audio>	
<audio id=c src="M3.mp3" autostart="false">
	</audio>
<audio id=d src="M4.mp3" autostart="false">
	</audio>
<audio id=e src="F1.mp3" autostart="false">
	</audio>
<audio id=f src="F2.mp3" autostart="false">
	</audio>	
<audio id=g src="F3.mp3" autostart="false">
	</audio>
<audio id=h src="F4.mp3" autostart="false">
	</audio>	
        </body>
</html>
